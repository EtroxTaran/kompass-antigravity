# KOMPASS Backend Environment Variables

# ============================================================================
# Application
# ============================================================================
NODE_ENV=development
PORT=3000

# ============================================================================
# Database (CouchDB)
# ============================================================================
COUCHDB_URL=http://localhost:5984
COUCHDB_ADMIN_USER=admin
COUCHDB_ADMIN_PASSWORD=changeme
COUCHDB_DATABASE=kompass

# ============================================================================
# Authentication (Keycloak OIDC)
# ============================================================================
# Keycloak server URL (internal Docker network URL for backend)
KEYCLOAK_URL=http://keycloak:8080
# Keycloak realm name
KEYCLOAK_REALM=kompass
# Keycloak client ID for backend API (confidential client)
KEYCLOAK_CLIENT_ID=kompass-api
# Keycloak client secret (get from Keycloak Admin Console after client creation)
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
# JWT secret (fallback, but Keycloak uses JWKS for validation)
JWT_SECRET=your-secret-key-here-minimum-32-characters-long-please-change

# ============================================================================
# CORS
# ============================================================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://frontend:8080

# ============================================================================
# Search (MeiliSearch)
# ============================================================================
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_API_KEY=masterKey

# ============================================================================
# SSO (Keycloak) - Legacy (deprecated, use Authentication section above)
# ============================================================================
# These variables are kept for backwards compatibility
# Use KEYCLOAK_URL, KEYCLOAK_REALM, KEYCLOAK_CLIENT_ID instead

# ============================================================================
# Object Storage (MinIO)
# ============================================================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET=kompass-files

# ============================================================================
# AI & Automation Feature Flags (Phase 2.x)
# ============================================================================

# Phase 2.1: RAG (Retrieval-Augmented Generation)
# Enables semantic search and document intelligence
# Dependencies: LlamaIndex, Weaviate
AI_RAG_ENABLED=false

# Phase 2.2: n8n Workflow Automation
# Enables intelligent workflow automation
# Dependencies: n8n instance
AI_N8N_ENABLED=false
N8N_WEBHOOK_URL=http://localhost:5678/webhook

# Phase 2.3: ML Predictive Analytics
# Enables opportunity scoring, cash flow forecasting
# Dependencies: ML model artifacts
AI_ML_ENABLED=false

# OpenFeature (Future)
# Advanced feature flag management
OPENFEATURE_ENABLED=false

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=debug

# ============================================================================
# Redis (Optional - for caching/queues)
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379

# ============================================================================
# Analytics (Optional)
# ============================================================================
GRAFANA_URL=http://localhost:3001
PROMETHEUS_URL=http://localhost:9090

