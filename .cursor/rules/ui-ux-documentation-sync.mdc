---
description: CRITICAL - When making UI/UX changes, ALWAYS update both documentation AND create Figma migration prompts to keep designs synchronized
globs: ["ui-ux/**/*.md", "docs/**/*.md", "**/*.tsx", "**/*.jsx", "**/components/**/*"]
alwaysApply: true
---

# UI/UX Documentation and Figma Synchronization

## CRITICAL RULE: Dual Update Requirement

**When ANY UI/UX change is made, you MUST do BOTH:**

1. ‚úÖ **Update the documentation** in `ui-ux/` directory
2. ‚úÖ **Create a Figma migration prompt** in `ui-ux/00-updates/`

**NEVER update only one without the other. Figma designs must stay synchronized with documentation.**

---

## When This Rule Applies

This rule is MANDATORY when:

### Component Changes
- Adding new UI components (buttons, inputs, cards, etc.)
- Modifying existing component behavior or appearance
- Changing component props, variants, or states
- Adding/removing component features
- Changing component sizing, spacing, or layout

### Form Changes
- Adding new form fields
- Removing or hiding form fields
- Changing field types (e.g., textarea ‚Üí rich text editor)
- Modifying field validation rules
- Changing field layout or grouping
- Adding conditional fields
- Changing form sections or tabs

### Layout Changes
- Modifying page layouts
- Changing navigation structure
- Adding/removing sidebars or panels
- Changing responsive breakpoints
- Modifying grid systems

### Design System Changes
- Color palette updates
- Typography changes
- Spacing/sizing system modifications
- Shadow or border radius changes
- Icon set updates

### Accessibility Changes
- ARIA label modifications
- Keyboard navigation updates
- Focus indicator changes
- Touch target size adjustments

---

## Two-Step Process

### Step 1: Update Documentation Files

Update the relevant markdown files in `ui-ux/`:

```
ui-ux/
‚îú‚îÄ‚îÄ 01-foundation/           # Design system changes
‚îú‚îÄ‚îÄ 02-core-components/      # Component changes
‚îú‚îÄ‚îÄ 03-entity-forms/         # Form changes
‚îú‚îÄ‚îÄ 04-list-views/           # List/table changes
‚îú‚îÄ‚îÄ 05-detail-pages/         # Detail view changes
‚îú‚îÄ‚îÄ 06-dashboards/           # Dashboard changes
‚îú‚îÄ‚îÄ 07-mobile/               # Mobile-specific changes
‚îî‚îÄ‚îÄ 08-specialized/          # Specialized component changes
```

**Documentation MUST include:**
- Exact component specifications (size, spacing, colors)
- State variations (default, hover, active, disabled)
- Accessibility requirements (ARIA labels, keyboard shortcuts)
- Mobile considerations (touch targets, responsive behavior)
- German labels and placeholder text
- Max character limits and validation rules

### Step 2: Create Figma Migration Prompt

Create a new migration prompt in `ui-ux/00-updates/`:

**Naming Convention:**
```
FIGMA-UPDATE-<FEATURE>-<DATE>.md
or
MIGRATION-<NUMBER>-<feature-name>.md
```

**Examples:**
- `FIGMA-UPDATE-RICH-TEXT-EDITOR-2025-01-27.md`
- `MIGRATION-002-new-dashboard-layout.md`
- `FIGMA-UPDATE-BUTTON-VARIANTS-2025-02.md`

**Migration Prompt MUST include:**

1. **Clear Purpose Statement**
   - What is being updated/changed
   - Why the change is needed
   - Which forms/components are affected

2. **FIND and REPLACE Instructions**
   - Exact specifications of what to look for
   - Exact specifications of what to replace it with
   - Field-by-field instructions for Figma Make

3. **Before/After Specifications**
   - OLD: Current design specifications
   - NEW: Updated design specifications
   - Exact measurements, colors, spacing

4. **Complete Design Specifications**
   - All variants and states
   - Spacing and sizing
   - Colors and typography
   - Icons and labels
   - Accessibility requirements

5. **Affected Files List**
   - List all form files affected
   - List all component files affected
   - Specify which sections within each file

6. **Quality Checklist**
   - Verification steps after applying the prompt
   - Common issues to check for
   - Testing requirements

---

## Migration Prompt Template

Use this template for ALL Figma migration prompts:

```markdown
# Figma Make: <Feature Name> Update

**Purpose:** <Brief description of what's being updated>
**Action:** <What Figma Make should do>
**Date:** YYYY-MM-DD

---

## üéØ MASTER PROMPT FOR FIGMA MAKE

**Copy everything below this line and paste into Figma Make:**

---

<Clear, direct instructions for Figma Make to execute>

## DESIGN SPECIFICATION: <Component/Feature Name>

### <Section 1>
- Exact specifications
- Measurements
- Colors
- States

### <Section 2>
- Exact specifications
...

---

## FIND AND REPLACE: <Feature Name>

### <Form/Component 1>

**FIND:**
- Current design element
- Exact specifications

**REPLACE WITH:**
- New design element
- Exact specifications

---

### <Form/Component 2>

**FIND:**
- Current design element

**REPLACE WITH:**
- New design element

---

## <Additional Specifications>

(Button icons, color palette, accessibility requirements, etc.)

---

## QUALITY CHECKLIST

After applying this prompt, verify:
- [ ] <Verification step 1>
- [ ] <Verification step 2>
- [ ] <Verification step 3>

---

**Total Files Updated:** <Number>
**Forms/Components Affected:** <Number>
**Special Features:** <Number>

---

END OF PROMPT
```

---

## Examples of Changes Requiring Both Updates

### Example 1: Adding Rich Text Editor

**Documentation Update:**
- ‚úÖ Updated `ui-ux/03-entity-forms/activity-protocol-form.md`
- ‚úÖ Updated `ui-ux/03-entity-forms/customer-form.md`
- ‚úÖ Updated `ui-ux/02-core-components/rich-text-editor.md`

**Migration Prompt:**
- ‚úÖ Created `ui-ux/00-updates/FIGMA-UPDATE-ALL-TEXTAREAS-TO-RICH-TEXT.md`
- ‚úÖ Includes exact toolbar specifications
- ‚úÖ Includes all 14 affected fields
- ‚úÖ Includes fix for scrollbar issue

### Example 2: Changing Button Variants

**Documentation Update:**
- ‚úÖ Updated `ui-ux/02-core-components/button.md`
- ‚úÖ Updated all forms using the new variant

**Migration Prompt:**
- ‚úÖ Created `ui-ux/00-updates/FIGMA-UPDATE-BUTTON-VARIANTS-2025-02.md`
- ‚úÖ Includes before/after specifications
- ‚úÖ Lists all affected components

### Example 3: Adding New Dashboard Section

**Documentation Update:**
- ‚úÖ Updated `ui-ux/06-dashboards/adm-dashboard.md`
- ‚úÖ Added new section specifications

**Migration Prompt:**
- ‚úÖ Created `ui-ux/00-updates/MIGRATION-003-adm-dashboard-section.md`
- ‚úÖ Includes layout specifications
- ‚úÖ Includes component placement

---

## Common Mistakes to Avoid

### ‚ùå WRONG: Updating Documentation Only

```
‚úó Updated ui-ux/03-entity-forms/customer-form.md
‚úó Did NOT create Figma migration prompt
‚úó Figma designs now out of sync!
```

### ‚ùå WRONG: Vague Migration Prompt

```markdown
# Update Customer Form

Update the customer form to use rich text editor.

(This is too vague! Figma Make won't know what to do.)
```

### ‚ùå WRONG: Incomplete Specifications

```markdown
**FIND:** Textarea
**REPLACE WITH:** Rich text editor

(Missing: toolbar buttons, sizing, spacing, variants, states)
```

### ‚úÖ CORRECT: Complete Update

```
‚úì Updated ui-ux/03-entity-forms/customer-form.md with exact specifications
‚úì Created ui-ux/00-updates/FIGMA-UPDATE-CUSTOMER-FORM-2025-01.md
‚úì Migration prompt includes:
  - Exact FIND and REPLACE instructions
  - Complete design specifications
  - All variants and states
  - Quality checklist
```

---

## Update Workflow

### When Making UI/UX Changes

1. **Identify Impact**
   - Which forms/components are affected?
   - Which documentation files need updates?
   - How many Figma screens need updates?

2. **Update Documentation First**
   - Update all relevant markdown files in `ui-ux/`
   - Include exact specifications
   - Update examples and screenshots
   - Update component installation notes

3. **Create Migration Prompt**
   - Create new file in `ui-ux/00-updates/`
   - Follow the template
   - Include complete FIND/REPLACE instructions
   - Add quality checklist

4. **Update README**
   - Update `ui-ux/README.md` to reference new migration prompt
   - Update prompt counts if needed
   - Add migration prompt to directory structure

5. **Test Instructions**
   - Read migration prompt as if you're Figma Make
   - Verify all specifications are complete
   - Check for ambiguities
   - Ensure checklist is comprehensive

---

## Migration Prompt Best Practices

### Clear, Direct Language

Use imperative voice for Figma Make:

‚úÖ **CORRECT:**
```
Replace all textarea components with rich text editor.
Toolbar height: 48px (fixed).
Button size: 32px √ó 32px.
```

‚ùå **WRONG:**
```
We should probably update the textareas.
The toolbar might be around 48px or so.
Buttons are roughly 32px.
```

### Complete Specifications

NEVER leave anything to interpretation:

‚úÖ **CORRECT:**
```
Background: #ffffff (white)
Border: 1px solid #e5e7eb (gray-200)
Border-radius: 8px (rounded-lg)
Padding: 16px (all sides)
```

‚ùå **WRONG:**
```
White background
Gray border
Rounded corners
Some padding
```

### Exact Measurements

Always include units and exact values:

‚úÖ **CORRECT:**
```
Min-height: 200px
Max-height: 500px
Width: 100% (full container width)
Gap between buttons: 4px
```

‚ùå **WRONG:**
```
Tall enough for content
Pretty wide
Small gaps
```

### German Labels

Include exact German text:

‚úÖ **CORRECT:**
```
Tooltip: "Fett (Ctrl+B)"
Placeholder: "Geben Sie hier Ihre Notizen ein..."
Label: "Interne Notizen"
```

‚ùå **WRONG:**
```
Tooltip: Bold shortcut
Placeholder: Notes placeholder
Label: Notes field
```

---

## Verification Checklist

Before committing UI/UX changes, verify:

- [ ] **Documentation Updated**
  - [ ] All affected markdown files updated
  - [ ] Exact specifications included
  - [ ] Examples updated
  - [ ] German labels included

- [ ] **Migration Prompt Created**
  - [ ] File created in `ui-ux/00-updates/`
  - [ ] Follows naming convention
  - [ ] Includes complete FIND/REPLACE instructions
  - [ ] Includes exact design specifications
  - [ ] Includes quality checklist

- [ ] **README Updated**
  - [ ] `ui-ux/README.md` updated
  - [ ] New migration prompt listed
  - [ ] Prompt counts updated

- [ ] **Migration Prompt Quality**
  - [ ] Clear purpose statement
  - [ ] Complete specifications (no ambiguity)
  - [ ] Exact measurements and values
  - [ ] All variants and states covered
  - [ ] German labels included
  - [ ] Quality checklist included

- [ ] **Testability**
  - [ ] Instructions can be followed by Figma Make
  - [ ] No missing information
  - [ ] No contradictions
  - [ ] Verification steps are clear

---

## Integration with Other Rules

This rule works together with:

- **`.cursor/rules/ui-components.mdc`** - Use shadcn/ui components
- **`.cursor/rules/documentation-organization.mdc`** - Documentation structure
- **`.cursor/rules/file-organization.mdc`** - File naming and organization

---

## References

- UI/UX Prompts Directory: `ui-ux/`
- Migration Prompts: `ui-ux/00-updates/`
- UI/UX README: `ui-ux/README.md`
- UI Components Rule: `.cursor/rules/ui-components.mdc`
- Documentation Rule: `.cursor/rules/documentation-organization.mdc`

---

## Summary

**ALWAYS remember when making UI/UX changes:**

1. ‚úÖ Update documentation in `ui-ux/` (exact specifications)
2. ‚úÖ Create migration prompt in `ui-ux/00-updates/` (complete instructions)
3. ‚úÖ Update `ui-ux/README.md` (reference new prompt)
4. ‚úÖ Follow template for migration prompts
5. ‚úÖ Include quality checklist
6. ‚úÖ Test instructions for clarity

**NEVER commit UI/UX changes without BOTH documentation AND migration prompt.**

Figma designs must ALWAYS stay synchronized with documentation!
